## movieCat
这是一个基于豆瓣电影API的电影资讯网站；
使用了angular, 包括angular-ui-router, service, 自定义指令，编程式导航。

### API
豆瓣API手册：https://developers.douban.com/wiki/?title=movie_v2

### 项目思路及简单流程
1. 编写html+css模板（首页用整张图片代替）
2. 制定文件结构
3. 在app.js中配置路由
4. 自定义jsonpService服务，跨域请求数据
5. 完成in_theaters页面功能显示
6. 在路由配置中，进行url的通配，代码合并（采用go函数实现编程式导航）
7. 完成分页功能
8. 导航条点击高亮显示
9. 页面渲染前的进度条加载
10. 完成详情页

### 总结那些遇到的坑
1. 关于跨域
    豆瓣不支持angular的jsonp，需要自己封装一个jsonp服务来发送跨域数据请求。

2. 控制器多次加载导致报错
    进度条加载的功能，原本希望和电影列表共用一个控制器，在进度条的自定义指令中声明了同一个控制器，结果导致这个控制器加载两次，出现报错。

3. 关于代码合并
    在用ui-sref属性和go函数时，出现了一些url上的小bug。
    查询字符串的方式无法解决，最后给a标签传递了空字符串的参数 ` q:'' `就解决了。